- name: check for updates (yum)
  yum: list=updates update_cache=true
  register: yumoutput

- debug:
    msg: "{{ yumoutput.results | map(attribute='name') | list }}"

- name: check for updates (yum)
  yum: list=updates update_cache=true
  register: yumoutput
  
- debug:
    msg: "{{ yumoutput.results | map(attribute='name') | list }}"

- name: Aktualizacja pakietów
  yum:
    name: '*'
    state: latest

- name: install epel-release
  dnf:
    name: epel-release
    state: present
    update_cache: yes

- name: Instalacja pakietów
  dnf:
    name: 
      - git
      - vim
      - htop
      - curl
    state: present
    update_cache: yes

- name: Remove dependencies that are no longer required
  ansible.builtin.dnf:
    autoremove: yes