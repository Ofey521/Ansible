---
- name: Dodaj zmienne per Å›rodowisko
  include_vars: "{{ ansible_os_family }}.yml" 

- include_tasks: zabbixAgentRedHat.yml
  when: ansible_facts['os_family'] == "RedHat"

- include_tasks: zabbixAgentDebian.yml
  when: >
    ( ansible_distribution == "Debian" and
    ansible_distribution_version is version('8', '>') )

- include_tasks: "version-{{ ansible_os_family }}.yml"

- include_tasks: "configure-{{ ansible_os_family }}.yml"
  when: zabbixAgentWindows_version >= zabbix_version_check['win_file_version']['product_version']

- include_tasks: zabbixAgentWindows.yml
  when: ansible_facts['os_family'] == "Windows"